(function(e){function t(t){for(var s,i,o=t[0],l=t[1],d=t[2],u=0,p=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0882":function(e,t,a){"use strict";var s=a("bc47"),r=a.n(s);r.a},2762:function(e,t,a){},"498a":function(e,t,a){},"4aaa":function(e,t,a){"use strict";var s=a("2762"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("a133"),a("ed0d"),a("f09c"),a("e117");var s=a("0261"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"countdown-mask"}),e._m(0),a("router-view")],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"countdown-container"},[a("div",{staticClass:"countdown-box"},[a("div",{staticClass:"countdown-text"})])])}],i={name:"app",provide:function(){return{countDown:this.countDown}},data:function(){return{timer:null}},methods:{countDown:function(){clearInterval(this.timer);var e=3,t=document.querySelector(".countdown-mask"),a=document.querySelector(".countdown-container");this.timer=setInterval((function(){if(e<=0)clearInterval(this.timer),t.style.display="none",a.style.display="none",window.location.reload();else{t.style.display="block",a.style.display="block";var s=document.querySelector(".countdown-text");s.innerHTML=e,e--}}),1e3)}}},o=i,l=(a("0882"),a("4023")),d=Object(l["a"])(o,r,n,!1,null,"a82ba044",null),c=d.exports,u=a("7d82"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login_container"},[s("div",{staticClass:"login_box"},[s("img",{staticClass:"logot",attrs:{src:a("cf05"),alt:""}}),s("span",{staticClass:"zdtitle"},[e._v("会畅教育终端版本管理服务")]),s("el-form",{ref:"loginFormRef",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.loginForm,rules:e.loginFormRules}},[s("el-form-item",{attrs:{prop:"user"}},[s("el-input",{attrs:{placeholder:"请输入账号","prefix-icon":"iconfont icon-__sign-user"},model:{value:e.loginForm.user,callback:function(t){e.$set(e.loginForm,"user",t)},expression:"loginForm.user"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"iconfont icon-__sigg-code",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),s("el-form-item",[s("el-button",{staticStyle:{background:"rgba(0,68,194,0.5)"},attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)],1)])},m=[],f=(a("b449"),a("51bc")),g={data:function(){return{loginForm:{user:"",password:""},loginFormRules:{user:[{required:!0,message:"请输入登录名称",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 5 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}]}}},mounted:function(){window.sessionStorage.removeItem("token")},methods:{login:function(){var e=this;this.$refs.loginFormRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.get("user/login",{params:{password:e.loginForm.password,username:e.loginForm.user}});case 4:s=t.sent,r=s.data,200==r.Code?(e.$message.success("登录成功"),window.sessionStorage.setItem("token","tokenbypeople"),e.$router.push("/home")):e.$message.error("账号或密码错误，请重新输入！");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},w=g,v=(a("a6d1"),Object(l["a"])(w,p,m,!1,null,"79fc3ef9",null)),b=v.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"home-container"},[a("el-header",[a("div",{staticClass:"el-headerImg"},[a("span",{staticClass:"icon iconfont outAdmin1"},[e._v("")]),a("span",[e._v("会畅教育终端版本管理服务")])]),a("div",[a("span",{staticClass:"icon iconfont outAdmin"},[e._v("")]),a("el-dropdown",{staticClass:"avatar-container right-menu-item hover-effect",attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" admin "),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[e._v("修改密码")]),a("el-dropdown-item",{attrs:{command:"b"}},[e._v("退出登录")])],1)],1)],1)]),a("el-main",{staticClass:"homeBody"},[a("div",{staticClass:"bodyHeader"},[a("div",{staticClass:"bodyZhongduan"},[e._v(e._s("终端列表（"+e.tableData.length+"）"))]),a("div",[a("el-button",{staticClass:"bodyButton bodyButton1",attrs:{type:"primary"},on:{click:e.addTerminalHandle}},[a("span",{staticClass:"icon iconfont"},[e._v("")]),e._v(" 添加 ")]),a("el-button",{staticClass:"bodyButton",on:{click:e.freshData}},[a("i",{staticClass:"iconfont icon-__refresh"}),e._v("刷新 ")])],1)]),a("div",{staticClass:"tableCrd"},[a("el-table",{staticClass:"tab_list",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#fff"},"cell-style":{background:"#f0f8ff"}}},[a("el-table-column",{attrs:{prop:"device",label:"型号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-button",{staticStyle:{"font-size":"14px","font-family":"Microsoft YaHei","font-weight":"400","text-decoration":"underline",color:"rgba(51,51,51,1)"},attrs:{type:"text",size:"medium"},on:{click:function(t){return e.modelHandle(s)}}},[e._v(e._s(s.Device))])]}}])}),a("el-table-column",{attrs:{prop:"Latest",label:"最新版本",align:"center"}}),a("el-table-column",{attrs:{prop:"Comment",label:"描述",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"icon_caozuo",staticStyle:{"margin-right":"30px",cursor:"pointer"},on:{click:function(t){return e.editTerminalHandle(s)}}},[a("i",{staticClass:"iconfont icon-__edit",staticStyle:{"margin-right":"5px"}}),a("span",[e._v("编辑")])]),a("div",{staticClass:"icon_caozuo",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.delTipsHandle(s)}}},[a("i",{staticClass:"iconfont icon-__delete",staticStyle:{"margin-right":"5px"}}),a("span",[e._v("删除")])])]}}])})],1)],1)]),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"修改密码",visible:e.passwordVisible,width:"450px"},on:{"update:visible":function(t){e.passwordVisible=t}}},[a("div",{staticClass:"del-box",staticStyle:{margin:"20px 0 20px 0"}},[a("el-form",{ref:"passwordForm",attrs:{"label-width":"110px",rules:e.rules,model:e.passwordForm}},[a("el-form-item",{attrs:{label:"新密码：",prop:"newPassword"}},[a("el-input",{staticStyle:{width:"272px"},attrs:{type:"text",placeholder:"请输入密码"},model:{value:e.passwordForm.password,callback:function(t){e.$set(e.passwordForm,"password",t)},expression:"passwordForm.password"}})],1),a("el-form-item",{attrs:{label:"确认新密码：",prop:"newPasswordCheck"}},[a("el-input",{staticStyle:{width:"272px"},attrs:{type:"text",placeholder:"请输入确认密码"},model:{value:e.passwordForm.passwordEqual,callback:function(t){e.$set(e.passwordForm,"passwordEqual",t)},expression:"passwordForm.passwordEqual"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"save-btn text",attrs:{type:"primary"},on:{click:e.changePassword}},[e._v("确定")])],1)]),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"添加终端",visible:e.addTerminalVisible,width:"450px"},on:{"update:visible":function(t){e.addTerminalVisible=t},close:e.resetForm}},[a("div",{staticClass:"del-box",staticStyle:{margin:"20px 0 20px 0"}},[a("el-form",{ref:"addTerminalForm",attrs:{model:e.addTerminalForm,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"型号：",prop:"ipInput"}},[a("el-input",{staticStyle:{width:"272px"},attrs:{placeholder:"请输入型号名称"},model:{value:e.addTerminalForm.device,callback:function(t){e.$set(e.addTerminalForm,"device",t)},expression:"addTerminalForm.device"}})],1),a("el-form-item",{attrs:{label:"描述："}},[a("el-input",{staticStyle:{width:"272px"},attrs:{placeholder:"请输入型号描述"},model:{value:e.addTerminalForm.comment,callback:function(t){e.$set(e.addTerminalForm,"comment",t)},expression:"addTerminalForm.comment"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"save-btn text",attrs:{type:"primary"},on:{click:e.addZhongDuan}},[e._v("确定")])],1)]),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"提示",visible:e.tipsVisible,width:"450px"},on:{"update:visible":function(t){e.tipsVisible=t}}},[a("div",{staticClass:"del-box",staticStyle:{margin:"auto"}},[a("span",{staticClass:"icon iconfont",staticStyle:{"font-size":"30px",color:"#D04B31","margin-right":"10px","margin-left":"25%"}},[e._v("")]),a("div",{staticClass:"text"},[e._v("确认删除"+e._s(e.datesCopy)+"？")])]),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"save-btn text",attrs:{type:"primary"},on:{click:e.deleteZhongDuan}},[e._v("删除")])],1)]),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"编辑终端",visible:e.editTerminalVisible,width:"450px"},on:{"update:visible":function(t){e.editTerminalVisible=t},close:e.resetFormEdit}},[a("div",{staticClass:"del-box",staticStyle:{margin:"20px 0 20px 0"}},[a("el-form",{ref:"editTerminalForm",attrs:{"label-width":"110px",model:e.editTerminalForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"型号：",prop:"ipInputtwo"}},[a("el-input",{staticStyle:{width:"272px"},attrs:{type:"text"},model:{value:e.editTerminalForm.device,callback:function(t){e.$set(e.editTerminalForm,"device","string"===typeof t?t.trim():t)},expression:"editTerminalForm.device"}})],1),a("el-form-item",{attrs:{label:"描述："}},[a("el-input",{staticStyle:{width:"272px"},attrs:{type:"text"},model:{value:e.editTerminalForm.comment,callback:function(t){e.$set(e.editTerminalForm,"comment","string"===typeof t?t.trim():t)},expression:"editTerminalForm.comment"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"save-btn text",attrs:{type:"primary"},on:{click:e.editZhongDuan}},[e._v("保存")])],1)])],1)},y=[],x={data:function(){var e=this,t=function(t,a,s){e.addTerminalForm.device?s():s(new Error("型号不能为空"))},a=function(t,a,s){e.editTerminalForm.device?s():s(new Error("型号不能为空"))},s=function(t,a,s){""==e.passwordForm.password?s(new Error("请再次输入密码")):e.passwordForm.password.length>15||e.passwordForm.password.length<6?s(new Error("长度在 6 到 15 个字符")):s()},r=function(t,a,s){""==e.passwordForm.passwordEqual?s(new Error("请再次输入密码")):e.passwordForm.passwordEqual.length>15||e.passwordForm.passwordEqual.length<6?s(new Error("长度在 6 到 15 个字符")):e.passwordForm.passwordEqual!==e.passwordForm.password?s(new Error("确认密码与新密码不一致!")):s()};return{rules:{ipInput:[{validator:t,trigger:"blur"}],ipInputtwo:[{validator:a,trigger:"blur"}],newPassword:[{validator:s,trigger:"blur"}],newPasswordCheck:[{validator:r,trigger:"blur"}]},tableData:[],passwordVisible:!1,addTerminalVisible:!1,tipsVisible:!1,editTerminalVisible:!1,addTerminalForm:{device:"",comment:""},editTerminalForm:{device:"",comment:""},passwordForm:{password:"",passwordEqual:""},dates:"",datesCopy:"",userId:""}},created:function(){this.getDataDevice(),this.getUserId()},methods:{freshData:function(){this.getDataDevice()},getUserId:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("user",{});case 2:a=t.sent,a.data;case 4:case"end":return t.stop()}}),t)})))()},getDataDevice:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("device/list",{});case 2:a=t.sent,s=a.data,200===s.Code&&(null==s.Data?e.tableData=[]:e.tableData=s.Data);case 5:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.$refs.addTerminalForm.resetFields(),this.addTerminalForm={device:"",comment:""}},resetFormEdit:function(){this.$refs.editTerminalForm.resetFields(),this.editTerminalForm={device:"",comment:""}},handleCommand:function(e){"a"===e?this.passwordVisible=!0:(this.$router.push({name:"Login"}),window.sessionStorage.removeItem("token"))},changePassword:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,e.$refs.passwordForm.validate((function(e){if(!e)return!1;var t=window.location.origin+"/upgrade/user/0",s=new XMLHttpRequest;s.open("put",t,!0);var r={Password:a.passwordForm.passwordEqual,Username:"admin"},n=JSON.stringify(r);s.send(n),s.onload=function(e){4==s.readyState&200==s.status?(a.$message.success("修改成功"),a.passwordVisible=!1,a.$router.push({name:"Login"}),window.sessionStorage.removeItem("token")):(a.$message.error("修改失败"),a.passwordVisible=!1)}}));case 2:case"end":return t.stop()}}),t)})))()},modelHandle:function(e){this.$router.push({name:"Model",query:{type:e.Device,id:e.Id}})},addTerminalHandle:function(){this.addTerminalVisible=!0},delTipsHandle:function(e){this.dates=e.Id,this.datesCopy=e.Device,this.tipsVisible=!0},deleteZhongDuan:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,s=new XMLHttpRequest,r=window.location.origin+"/upgrade/device/"+e.dates,s.open("delete",r,!0),s.send(null),s.onload=function(e){200==s.status&4==s.readyState&&(a.tipsVisible=!1,a.getDataDevice())};case 6:case"end":return t.stop()}}),t)})))()},editTerminalHandle:function(e){this.editTerminalForm.device=e.Device,this.editTerminalForm.comment=e.Comment,this.dates=e.Id,this.editTerminalVisible=!0},addZhongDuan:function(){var e=this;this.$refs.addTerminalForm.validate((function(t){if(!t)return!1;e.addTerminalFunction()}))},addTerminalFunction:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("device",{device:e.addTerminalForm.device,comment:e.addTerminalForm.comment});case 2:a=t.sent,s=a.data,200===s.Code?(e.$message.success(s.Msg),e.addTerminalVisible=!1,e.getDataDevice()):e.$message.error(s.Msg);case 5:case"end":return t.stop()}}),t)})))()},editZhongDuan:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,e.$refs.editTerminalForm.validate((function(t){if(!t)return!1;var s=new XMLHttpRequest,r=window.location.origin+"/upgrade/device/"+e.dates;s.open("put",r,!0);var n=JSON.stringify(e.editTerminalForm);s.send(n),s.onload=function(e){200==s.status&4==s.readyState&&(a.editTerminalVisible=!1,a.getDataDevice())}}));case 2:case"end":return t.stop()}}),t)})))()}}},F=x,C=(a("6b8f"),Object(l["a"])(F,h,y,!1,null,"f1fbb52e",null)),_=C.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"home-container"},[a("el-header",{staticClass:"el-header"},[a("div",{staticClass:"el-headerImg"},[a("span",{staticClass:"icon iconfont outAdmin1"},[e._v("")]),a("span",[e._v("会畅教育终端版本管理服务")])]),a("div",[a("span",{staticClass:"icon iconfont outAdmin"},[e._v("")]),a("el-dropdown",{staticClass:"avatar-container right-menu-item hover-effect",attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" admin "),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[e._v("修改密码")]),a("el-dropdown-item",{attrs:{command:"b"}},[e._v("退出登录")])],1)],1)],1)]),a("el-main",{staticClass:"homeBody"},[a("div",{staticClass:"bodyHeader"},[a("div",{staticClass:"bodyZhongduan"},[e._v(e._s(e.$route.query.type+"升级包（"+e.tableData.length+"）"))]),a("div",[a("el-button",{staticClass:"bodyButton bodyButton1",attrs:{type:"primary"},on:{click:e.uploadFileButton}},[a("i",{staticClass:"iconfont icon-__update"}),e._v("上传 ")]),a("el-button",{staticClass:"bodyButton",on:{click:e.freshData}},[a("i",{staticClass:"iconfont icon-__refresh"}),e._v("刷新 ")]),a("el-button",{staticClass:"bodyButton",on:{click:e.delMore}},[a("i",{staticClass:"iconfont icon-__delete"}),e._v("批量删除 ")]),a("el-button",{staticClass:"bodyButton1",attrs:{type:"primary",icon:"el-icon-d-arrow-left"},on:{click:e.gotOut}},[e._v("返回上级页面")])],1)]),a("div",{staticClass:"tableCrd"},[a("el-table",{staticClass:"tab_list",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#fff"},"cell-style":{background:"#f0f8ff"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center","min-width":"30px"}}),a("el-table-column",{attrs:{label:"序号","min-width":"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"font-size":"16px","font-family":"Microsoft YaHei","font-weight":"500","text-decoration":"underline",color:"#666666"},attrs:{type:"text",size:"medium"}},[e._v(e._s(e._f("indexMethod")(t.$index)))])]}}])}),a("el-table-column",{attrs:{prop:"Version",label:"版本",align:"center","min-width":"200px"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("a",{staticStyle:{"margin-right":"30px","text-decoration":"none",color:"rgb(102,102,102)"},attrs:{href:"http://"+s.Address,target:"_blank"}},[a("i",{staticClass:"iconfont icon-__download icon_download",staticStyle:{"margin-right":"5px"}}),a("span",[e._v("下载")])]),a("div",{staticClass:"icon_caozuo",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.delTipsHandle(s)}}},[a("i",{staticClass:"iconfont icon-__delete"}),a("span",[e._v("删除")])])]}}])})],1)],1)]),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"上传版本文件",visible:e.uploadFileVisible,width:"450px"},on:{"update:visible":function(t){e.uploadFileVisible=t}}},[a("div",{staticClass:"upload-file-box",staticStyle:{"margin-left":"26px"}},[a("el-upload",{ref:"upload",staticStyle:{width:"80%"},attrs:{action:"#","http-request":e.uploadFile,"show-file-list":e.showFileList,"on-remove":e.handleRemove,limit:1,"on-exceed":e.handleExceed,"before-upload":e.beforeAvatarUpload}},[a("el-input",{staticStyle:{width:"272px"},attrs:{placeholder:"文件名.upgrade",autocomplete:"off",clearable:""},on:{clear:e.handleRemove},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}})],1),a("div",{staticStyle:{"margin-right":"26px"}},[a("el-button",{staticClass:"upload-btn",staticStyle:{background:"rgba(31, 113, 204, 1)"},attrs:{type:"primary"},on:{click:e.upload}},[e._v("上传")])],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"})]),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"修改密码",visible:e.passwordVisible,width:"450px"},on:{"update:visible":function(t){e.passwordVisible=t}}},[a("div",{staticClass:"del-box",staticStyle:{margin:"20px 0 20px 0"}},[a("el-form",{ref:"passwordForm",attrs:{"label-width":"110px",rules:e.rules,model:e.passwordForm}},[a("el-form-item",{attrs:{label:"新密码：",prop:"newPassword"}},[a("el-input",{staticStyle:{width:"272px"},attrs:{type:"text",placeholder:"请输入密码"},model:{value:e.passwordForm.password,callback:function(t){e.$set(e.passwordForm,"password",t)},expression:"passwordForm.password"}})],1),a("el-form-item",{attrs:{label:"确认新密码：",prop:"newPasswordCheck"}},[a("el-input",{staticStyle:{width:"272px"},attrs:{type:"text",placeholder:"请输入确认密码"},model:{value:e.passwordForm.passwordEqual,callback:function(t){e.$set(e.passwordForm,"passwordEqual",t)},expression:"passwordForm.passwordEqual"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"save-btn text",attrs:{type:"primary"},on:{click:e.changePassword}},[e._v("确定")])],1)]),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"提示",visible:e.tipsVisible,width:"450px"},on:{"update:visible":function(t){e.tipsVisible=t}}},[a("div",{staticClass:"del-box"},[a("span",{staticClass:"icon iconfont",staticStyle:{"font-size":"30px",color:"#D04B31","margin-right":"10px","margin-left":"25%"}},[e._v("")]),a("div",{staticClass:"text"},[e._v("确认删除文件吗？")])]),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"save-btn text",attrs:{type:"primary"},on:{click:e.delAloneData}},[e._v("删除")])],1)]),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"提示",visible:e.delMoreVisible,width:"450px"},on:{"update:visible":function(t){e.delMoreVisible=t}}},[a("div",{staticClass:"del-box"},[a("span",{staticClass:"icon iconfont",staticStyle:{"font-size":"30px",color:"#D04B31","margin-right":"10px","margin-left":"13%"}},[e._v("")]),a("div",{staticClass:"text"},[e._v(e._s("确定要删除所选的"+e.selections.length+"条数据吗？"))])]),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"save-btn text",attrs:{type:"primary"},on:{click:e.delMoreData}},[e._v("删除")])],1)])],1)},S=[],$=(a("b4fb"),a("fe59"),a("053b"),a("fe8a"),a("e35a"),a("0d7a"),a("08ba"),{data:function(){var e=this,t=function(t,a,s){""==e.passwordForm.password?s(new Error("请再次输入密码")):e.passwordForm.password.length>15||e.passwordForm.password.length<6?s(new Error("长度在 6 到 15 个字符")):s()},a=function(t,a,s){""==e.passwordForm.passwordEqual?s(new Error("请再次输入密码")):e.passwordForm.passwordEqual.length>15||e.passwordForm.passwordEqual.length<6?s(new Error("长度在 6 到 15 个字符")):e.passwordForm.passwordEqual!==e.passwordForm.password?s(new Error("确认密码与新密码不一致!")):s()};return{passwordForm:{password:"",passwordEqual:""},rules:{newPassword:[{validator:t,trigger:"blur"}],newPasswordCheck:[{validator:a,trigger:"blur"}]},tableData:[],addTerminalForm:{name:"",password:""},uploadFileVisible:!1,passwordVisible:!1,tipsVisible:!1,delMoreVisible:!1,showFileList:!1,uploadfile:{},fileName:"",fileStatus:"unready",selection:[],selections:[]}},created:function(){this.getUpdateList()},filters:{indexMethod:function(e){return e<9?"0"+(e+1):e+1}},methods:{freshData:function(){this.getUpdateList()},getUpdateList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("package",{params:{device:e.$route.query.id}});case 2:a=t.sent,s=a.data,200==s.Code&&(null==s.Data?e.tableData=[]:e.tableData=s.Data);case 5:case"end":return t.stop()}}),t)})))()},handleCommand:function(e){"a"===e?this.passwordVisible=!0:(this.$router.push({name:"Login"}),window.sessionStorage.removeItem("token"))},changePassword:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,e.$refs.passwordForm.validate((function(e){if(!e)return!1;var t=window.location.origin+"/upgrade/user/0",s=new XMLHttpRequest;s.open("put",t,!0);var r={Password:a.passwordForm.passwordEqual,Username:"admin"},n=JSON.stringify(r);s.send(n),s.onload=function(e){4==s.readyState&200==s.status?(a.$message.success("修改成功"),a.passwordVisible=!1,a.$router.push({name:"Login"}),window.sessionStorage.removeItem("token")):(a.$message.error("修改失败"),a.passwordVisible=!1)}}));case 2:case"end":return t.stop()}}),t)})))()},gotOut:function(){this.$router.push({name:"Home"})},uploadFileButton:function(){this.uploadFileVisible=!0},delTipsHandle:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.tipsVisible=!0,t.selection=[e.Id];case 2:case"end":return a.stop()}}),a)})))()},delAloneData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("package/delete",e.selection);case 2:a=t.sent,s=a.data,200==s.Code?(e.$message.success("删除成功"),e.tipsVisible=!1,e.getUpdateList()):e.$message.error("删除失败");case 5:case"end":return t.stop()}}),t)})))()},handleSelectionChange:function(e){this.selections=e},delMore:function(){this.selections.length>0?this.delMoreVisible=!0:this.$message.warning("请选择要删除的数据")},delMoreData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],e.selections.forEach((function(e){return a.push(e.Id)})),t.next=4,e.$http.post("package/delete",a);case 4:s=t.sent,r=s.data,200==r.Code?(e.$message.success("删除成功"),e.delMoreVisible=!1,e.getUpdateList()):e.$message.error("删除失败");case 7:case"end":return t.stop()}}),t)})))()},handleRemove:function(){this.$refs.upload.clearFiles(),this.uploadfile=""},uploadFile:function(e){void 0!==e&&(this.uploadfile=e,this.fileName=e.file.name)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeAvatarUpload:function(e){var t=e.name.split("."),a=t[t.length-1];return"upgrade"==a||(this.$message({message:"文件上传格式不对，请选择以.upgrade结尾的升级包格式！",type:"warning"}),!1)},upload:function(){var e=this;if(Object.keys(this.uploadfile).length>0){var t=window.location.origin+"/upgrade/package?device="+this.$route.query.id,a=new XMLHttpRequest,s=new FormData;s.append("file",this.uploadfile.file),a.open("POST",t,!0),a.send(s),a.onload=function(t){200==JSON.parse(t.currentTarget.response).Code?(e.$message.success("上传成功"),e.$refs.upload.clearFiles(),e.uploadfile="",e.fileName="",e.uploadFileVisible=!1,e.getUpdateList()):(e.$message.error("上传失败"),e.$refs.upload.clearFiles(),e.uploadfile="",e.fileName="",e.uploadFileVisible=!1)}}else this.$message.warning("文件不能为空")}}}),T=$,D=(a("4aaa"),Object(l["a"])(T,k,S,!1,null,"67d3b7dc",null)),V=D.exports;s["default"].use(u["a"]);var E=new u["a"]({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:b},{path:"/home",name:"Home",component:_},{path:"/model",name:"Model",component:V}]});E.beforeEach((function(e,t,a){if("/login"===e.path)return a();var s=window.sessionStorage.getItem("token");if(!s)return a("/login");a()}));var R=E,O=(a("6eb9"),a("2984"),a("6389")),q=a.n(O),M=(a("26fe"),a("7c18")),j=a.n(M),I=(a("7b77"),a("3450")),H=a.n(I),P=(a("3dca"),a("25f9")),L=a.n(P),B=(a("3c5e"),a("3a6a")),U=a.n(B),z=(a("357c"),a("32a0")),N=a.n(z),A=(a("008a"),a("020f")),Z=a.n(A),J=(a("b806"),a("7810")),X=a.n(J),Y=(a("9102"),a("3aa8")),G=a.n(Y),K=(a("086f"),a("ce6c")),Q=a.n(K),W=(a("ca6c"),a("2c83")),ee=a.n(W),te=(a("31d0"),a("60bf")),ae=a.n(te),se=(a("b969"),a("b010")),re=a.n(se),ne=(a("f403"),a("f366")),ie=a.n(ne),oe=(a("4644"),a("7668")),le=a.n(oe),de=(a("dc0a"),a("679e")),ce=a.n(de),ue=(a("87cf"),a("b94c")),pe=a.n(ue),me=(a("9aa1"),a("a8e4")),fe=a.n(me),ge=(a("97aa"),a("8cd8")),we=a.n(ge),ve=(a("156e"),a("c2f5")),be=a.n(ve),he=(a("ca55"),a("3fbd")),ye=a.n(he),xe=(a("53b1"),a("147a")),Fe=a.n(xe),Ce=(a("e718"),a("b270")),_e=a.n(Ce),ke=(a("b764"),a("77bb")),Se=a.n(ke),$e=(a("32de"),a("8d99")),Te=a.n($e),De=(a("a68a"),a("230e")),Ve=a.n(De),Ee=(a("e8bd"),a("3f00")),Re=a.n(Ee),Oe=(a("608b"),a("d55c")),qe=a.n(Oe),Me=(a("93fd"),a("60cf")),je=a.n(Me),Ie=(a("1c3e"),a("3696")),He=a.n(Ie),Pe=(a("cc43"),a("855f")),Le=a.n(Pe),Be=(a("567e"),a("2b3e")),Ue=a.n(Be);s["default"].use(Ue.a),s["default"].use(Le.a),s["default"].use(He.a),s["default"].use(je.a),s["default"].use(qe.a),s["default"].use(Re.a),s["default"].use(Ve.a),s["default"].use(Te.a),s["default"].use(Se.a),s["default"].use(_e.a),s["default"].use(Fe.a),s["default"].use(ye.a),s["default"].use(be.a),s["default"].use(we.a),s["default"].use(fe.a),s["default"].use(pe.a),s["default"].use(ce.a),s["default"].use(le.a),s["default"].use(ie.a),s["default"].use(re.a),s["default"].use(ae.a),s["default"].use(ee.a),s["default"].use(Q.a),s["default"].use(G.a),s["default"].use(X.a),s["default"].use(Z.a),s["default"].use(N.a),s["default"].use(U.a),s["default"].use(L.a),s["default"].use(H.a),s["default"].prototype.$message=j.a,s["default"].prototype.$confirm=q.a.confirm;a("82da"),a("aede");var ze=a("82ae"),Ne=a.n(ze),Ae=a("1cfa"),Ze=a.n(Ae);Ne.a.defaults.baseURL="/upgrade",s["default"].prototype.$http=Ne.a,s["default"].prototype.$qs=Ze.a,s["default"].config.productionTip=!1,new s["default"]({router:R,render:function(e){return e(c)}}).$mount("#app")},"6b8f":function(e,t,a){"use strict";var s=a("498a"),r=a.n(s);r.a},"82da":function(e,t,a){},a6d1:function(e,t,a){"use strict";var s=a("db26"),r=a.n(s);r.a},aede:function(e,t,a){},bc47:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"static/img/logo.16e6b139.png"},db26:function(e,t,a){}});
//# sourceMappingURL=app.ec485664.js.map